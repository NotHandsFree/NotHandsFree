{% extends "base.html" %}

{% block content %}
	<div class="row">
		<div class="col-md-8 col-md-offset-2">
			<div class="panel panel-primary">
				<form action method="POST">
					<div class="panel-heading">
						<h3 class="panel-title">Add A Speed Dial</h3>
					</div>
					<div class="panel-body">
						<div class="form-group">
							<input name="number" class="form-control" type="phone" placeholder="Phone Number"></input>
						</div>
						<div class="form-group">
							<input name="gesture" class="form-control" type="text" placeholder="Gesture" id="gesture"></input>
						</div>
					</div>
					<div class="panel-footer">
						<button class="btn btn-primary btn-lg btn-block">Add</button>
					</div>
				</form>
			</div>
		</div>
	</div>
{% endblock %}

{% block js %}
<script type="text/javascript">
var receiver = new WebSocket("ws://" + location.host + "/ws");

var phase = 0;
var mode, dest, content = null;


receiver.onmessage = function(message){
    data = message['data'].replace(/'/g, '"');
    data = JSON.parse(data);

    $('#gesture').val(data['gesture']);
};

$(document).ready(function(){

});
</script>
{% endblock %}